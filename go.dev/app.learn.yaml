runtime: go113
service: learn-go-dev
main: ./cmd/frontend

handlers:
- url: /
  static_files: public/learn/index.html
  upload: public/learn/index.html

- url: /(explore|learn)
  secure: always
  redirect_http_response_code: 301
  script: auto

- url: /(explore|learn)/*
  secure: always
  redirect_http_response_code: 301
  script: auto

# Special handler for static content in themes or page bundles.
- url: /(.*)\.(png|svg|js|css|jpeg|jpg|xml|html)$
  static_files: public/\1.\2
  upload: public/(.*)

# Handle arbitrary paths with an index.html, special casing the trailing slash.
- url: /(.*)/
  static_files: public/learn/\1/index.html
  upload: public/learn/(.*)/index.html

# Handle arbitrary paths with an index.html
- url: /(.*)
  static_files: public/learn/\1/index.html
  upload: public/learn/(.*)/index.html

- url: /.*
  secure: always
  redirect_http_response_code: 301
  script: auto
